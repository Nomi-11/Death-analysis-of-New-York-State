<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Death Analysis of New York State - 3&nbsp; Results</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./d3graph.html" rel="next">
<link href="./data.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="site_libs/rglWebGL-binding-1.2.8/rglWebGL.js"></script>
<link href="site_libs/rglwidgetClass-1.2.8/rgl.css" rel="stylesheet">
<script src="site_libs/rglwidgetClass-1.2.8/rglClass.min.js"></script>
<script src="site_libs/CanvasMatrix4-1.2.8/CanvasMatrix.min.js"></script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./results.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Results</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Death Analysis of New York State</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/Nomi-11/Death-analysis-of-New-York-State" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./results.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Results</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./d3graph.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Interactive graph</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Conclusion</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#how-do-suicide-death-counts-vary-across-different-age-groups-genders-regions-and-ethnicities-in-new-york-state" id="toc-how-do-suicide-death-counts-vary-across-different-age-groups-genders-regions-and-ethnicities-in-new-york-state" class="nav-link active" data-scroll-target="#how-do-suicide-death-counts-vary-across-different-age-groups-genders-regions-and-ethnicities-in-new-york-state"><span class="header-section-number">3.1</span> How do suicide death counts vary across different age groups, genders, regions, and ethnicities in New York State?</a></li>
  <li><a href="#has-there-been-a-significant-change-in-the-number-of-suicide-firearm-or-alcohol-related-deaths-in-new-york-state-over-the-years" id="toc-has-there-been-a-significant-change-in-the-number-of-suicide-firearm-or-alcohol-related-deaths-in-new-york-state-over-the-years" class="nav-link" data-scroll-target="#has-there-been-a-significant-change-in-the-number-of-suicide-firearm-or-alcohol-related-deaths-in-new-york-state-over-the-years"><span class="header-section-number">3.2</span> Has there been a significant change in the number of suicide, firearm or alcohol-related deaths in New York State over the years?</a></li>
  <li><a href="#which-regions-in-new-york-state-have-the-highest-counts-of-suicide-alcohol-related-and-firearm-deaths" id="toc-which-regions-in-new-york-state-have-the-highest-counts-of-suicide-alcohol-related-and-firearm-deaths" class="nav-link" data-scroll-target="#which-regions-in-new-york-state-have-the-highest-counts-of-suicide-alcohol-related-and-firearm-deaths"><span class="header-section-number">3.3</span> Which regions in New York State have the highest counts of suicide, alcohol-related, and firearm deaths?</a></li>
  <li><a href="#how-have-mortality-patterns-by-age-and-race-specifically-related-to-suicide-firearm-and-alcohol-related-deaths-changed-in-new-york-state-over-the-years" id="toc-how-have-mortality-patterns-by-age-and-race-specifically-related-to-suicide-firearm-and-alcohol-related-deaths-changed-in-new-york-state-over-the-years" class="nav-link" data-scroll-target="#how-have-mortality-patterns-by-age-and-race-specifically-related-to-suicide-firearm-and-alcohol-related-deaths-changed-in-new-york-state-over-the-years"><span class="header-section-number">3.4</span> How have mortality patterns by age and race, specifically related to suicide, firearm, and alcohol-related deaths, changed in New York State over the years?</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/Nomi-11/Death-analysis-of-New-York-State/edit/main/results.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/Nomi-11/Death-analysis-of-New-York-State/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Results</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="how-do-suicide-death-counts-vary-across-different-age-groups-genders-regions-and-ethnicities-in-new-york-state" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="how-do-suicide-death-counts-vary-across-different-age-groups-genders-regions-and-ethnicities-in-new-york-state"><span class="header-section-number">3.1</span> How do suicide death counts vary across different age groups, genders, regions, and ethnicities in New York State?</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rgl)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmosaic)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>death_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Death_data_NY.csv"</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>death_data <span class="ot">&lt;-</span> death_data <span class="sc">%&gt;%</span> </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Age.Group <span class="sc">!=</span> <span class="st">"Unknown"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>aggregated_data <span class="ot">&lt;-</span> death_data <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">filter</span>(Age.Group <span class="sc">!=</span> <span class="st">'Total'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Race.or.Ethnicity, Age.Group) <span class="sc">%&gt;%</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Suicide.Deaths =</span> <span class="fu">sum</span>(Suicide.Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Use melt from reshape2 to reshape the data for heatmap</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>data_melted <span class="ot">&lt;-</span> <span class="fu">melt</span>(aggregated_data, <span class="at">id.vars =</span> <span class="fu">c</span>(<span class="st">'Race.or.Ethnicity'</span>, <span class="st">'Age.Group'</span>))</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate the heatmap</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_melted, <span class="fu">aes</span>(<span class="at">x =</span> Age.Group, <span class="at">y =</span> Race.or.Ethnicity, <span class="at">fill =</span> value)) <span class="sc">+</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_gradientn</span>(<span class="at">colors =</span> <span class="fu">brewer.pal</span>(<span class="dv">9</span>, <span class="st">"Blues"</span>)) <span class="sc">+</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Heatmap of Suicide Counts by Age Group and Ethnicity (18 years)"</span>,</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Age Group"</span>,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Race or Ethnicity"</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">fill =</span> <span class="st">"Suicide Counts"</span>) <span class="sc">+</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Comment:</strong> The heatmap provides a visual representation of suicide counts by age group and ethnicity, with darker colors indicating higher numbers. It shows that White Non Hispanic individuals have a notably higher incidence of suicide across most age groups, particularly in the middle-aged brackets. Other ethnic groups, such as Hispanic and Black Non Hispanic, have lower counts, which are more evenly distributed across age groups. The “Not Stated” category suggests a lack of data or unreported ethnicity in some cases. The concentration of darker shades in specific age ranges may highlight critical periods where interventions could be most impactful.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>most_recent_year <span class="ot">&lt;-</span> <span class="fu">max</span>(death_data<span class="sc">$</span>Year)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>data_recent_year <span class="ot">&lt;-</span> <span class="fu">subset</span>(death_data, Year <span class="sc">==</span> most_recent_year <span class="sc">&amp;</span> Age.Group <span class="sc">!=</span> <span class="st">'Total'</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize suicide deaths by age group, sex, and race or ethnicity</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>suicide_summary <span class="ot">&lt;-</span> data_recent_year <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Age.Group, Sex, Race.or.Ethnicity) <span class="sc">%&gt;%</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Suicide_Deaths =</span> <span class="fu">sum</span>(Suicide.Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a facet grid plot</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(suicide_summary, <span class="fu">aes</span>(<span class="at">x =</span> Age.Group, <span class="at">y =</span> Suicide_Deaths, <span class="at">fill =</span> Sex)) <span class="sc">+</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>()) <span class="sc">+</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Race.or.Ethnicity, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Suicide Deaths by Age, Gender, and Ethnicity (2020)"</span>,</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age Group"</span>,</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of Suicide Deaths"</span>,</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Gender"</span>) <span class="sc">+</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Comment:</strong> The bar charts depict trends of suicide deaths across different age groups and ethnicities for the year 2020, with gender comparisons. Notably, the “White Non Hispanic” category has the highest numbers, especially among middle-aged individuals. Men in this group appear particularly affected, as seen by the higher bars in comparison to women. Other ethnic groups show fewer suicide deaths, but still present a peak in middle age. The data suggests that middle age is a critical period for suicide risk, especially among White Non Hispanic men.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>aggregated_data_5 <span class="ot">&lt;-</span> death_data <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Age.Group <span class="sc">!=</span> <span class="st">'Total'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year, Sex) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Suicide.Deaths =</span> <span class="fu">sum</span>(Suicide.Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="co"># Remove the grouping</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(aggregated_data_5, <span class="fu">aes</span>(<span class="at">x =</span> Sex, <span class="at">y =</span> Suicide.Deaths, <span class="at">fill =</span> Sex)) <span class="sc">+</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape =</span> <span class="cn">NA</span>) <span class="sc">+</span>  <span class="co"># Hide outliers</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span>  <span class="co"># Add data points with some transparency</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Pastel1"</span>) <span class="sc">+</span>  <span class="co"># A soft color palette</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Annual Suicide Death Counts by Gender (2003-2020)"</span>,</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"New York State data"</span>,</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Gender"</span>,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Suicide Death Counts"</span>,</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Gender"</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span>  <span class="co"># A clean theme</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title.align =</span> <span class="fl">0.5</span>,</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"F"</span> <span class="ot">=</span> <span class="st">"Female"</span>, <span class="st">"M"</span> <span class="ot">=</span> <span class="st">"Male"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Comment:</strong> The box plot illustrates the annual suicide death counts by gender in New York State from 2003 to 2020. It reveals that males have a significantly higher number of suicide deaths annually compared to females, as indicated by the higher median value and larger spread of the data for males. The data points represented by dots show variation from year to year, with several outliers indicating years with particularly high or low counts. The consistent position of the box for males at a higher count than females suggests that this is a long-standing trend over the examined period. This visual summary underscores a gender disparity in suicide rates, with males being more affected than females.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>aggregated_data_6 <span class="ot">&lt;-</span> death_data <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Age.Group <span class="sc">!=</span> <span class="st">'Total'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year, Sex) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Suicide.Deaths =</span> <span class="fu">sum</span>(Suicide.Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Firearm.Deaths =</span> <span class="fu">sum</span>(Firearm.Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Alcohol.Related.Deaths =</span> <span class="fu">sum</span>(Alcohol.Related.Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="co"># Remove the grouping</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(aggregated_data_6, <span class="fu">aes</span>(<span class="at">x =</span> Suicide.Deaths, <span class="at">y =</span> Firearm.Deaths, <span class="at">color =</span> Sex)) <span class="sc">+</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">alpha =</span> <span class="dv">1</span>) <span class="sc">+</span>  <span class="co"># Points with slight transparency</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Scatter Plot of Suicide vs. Firearm Deaths by Gender"</span>,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Suicide Deaths"</span>,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Firearm Deaths"</span>,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Gender"</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"F"</span> <span class="ot">=</span> <span class="st">"pink"</span>, <span class="st">"M"</span> <span class="ot">=</span> <span class="st">"lightblue"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Comment:</strong> The scatter plot illustrates the relationship between suicide deaths and firearm deaths by gender. It shows a clear pattern: as the number of suicide deaths increases, so do the firearm deaths, with this trend being more pronounced for males. For females, the data points are clustered at lower counts for both suicide and firearm deaths, indicating a lower occurrence of both compared to males. The plot suggests that firearms may be a common method of suicide, especially among males. This visualization highlights the gender disparity in these deaths and suggests a potential area for intervention and prevention efforts.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>mycolors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'pink'</span>, <span class="st">'lightblue'</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>aggregated_data_6<span class="sc">$</span>Sex <span class="ot">&lt;-</span> <span class="fu">factor</span>(aggregated_data_6<span class="sc">$</span>Sex, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'F'</span>, <span class="st">'M'</span>))</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>aggregated_data_6<span class="sc">$</span>color <span class="ot">&lt;-</span> mycolors[<span class="fu">as.numeric</span>(aggregated_data_6<span class="sc">$</span>Sex)]</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot3d</span>( </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">x=</span>aggregated_data_6<span class="sc">$</span>Suicide.Deaths, </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> aggregated_data_6<span class="sc">$</span>Firearm.Deaths, </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">z=</span>aggregated_data_6<span class="sc">$</span>Alcohol.Related.Deaths, </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> aggregated_data_6<span class="sc">$</span>color, </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">'s'</span>, </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">radius =</span> <span class="dv">50</span>,</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"1"</span>,</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab=</span><span class="st">"Suicide Deaths"</span>, <span class="at">ylab=</span><span class="st">"Firearm Deaths"</span>, <span class="at">zlab=</span><span class="st">"Alcohol Related Deaths"</span>)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a title to the plot</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="fu">title3d</span>(<span class="at">main =</span> <span class="st">"3D Scatter Plot of Death Counts (by gender)"</span>, <span class="at">line =</span> <span class="dv">2</span>)</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="fu">legend3d</span>(<span class="st">"topright"</span>, <span class="at">legend =</span> <span class="fu">levels</span>(aggregated_data_6<span class="sc">$</span>Sex), </span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">col =</span> mycolors, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="fl">0.75</span>)</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="fu">rglwidget</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display no-overflow-x">
<div id="rgl83357" style="width:100%;height:464px;" class="rglWebGL html-widget " role="img" aria-labelledby="rgl83357-aria"></div>
<script type="application/json" data-for="rgl83357">{"x":{"material":{"color":"#000000","alpha":1,"lit":true,"ambient":"#000000","specular":"#FFFFFF","emission":"#000000","shininess":50,"smooth":true,"front":"filled","back":"filled","size":3,"lwd":1,"fog":true,"point_antialias":false,"line_antialias":false,"texture":null,"textype":"rgb","texmode":"modulate","texmipmap":false,"texminfilter":"linear","texmagfilter":"linear","texenvmap":false,"depth_mask":true,"depth_test":"less","isTransparent":false,"polygon_offset":[0,0],"margin":"","floating":false,"tag":"","blend":["src_alpha","one_minus_src_alpha"]},"rootSubscene":7,"objects":{"13":{"id":13,"type":"spheres","material":{},"vertices":"0","colors":"1","radii":[[50]],"centers":"2","ignoreExtent":false,"fastTransparency":true,"flags":32771},"15":{"id":15,"type":"text","material":{"lit":false,"margin":0,"floating":true,"edge":[0,1,1]},"vertices":"3","colors":"4","texts":[["Suicide Deaths"]],"cex":[[1]],"adj":[[0.5,0.5,0.5]],"centers":"5","family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":33808},"16":{"id":16,"type":"text","material":{"lit":false,"margin":1,"floating":true,"edge":[1,1,1]},"vertices":"6","colors":"7","texts":[["Firearm Deaths"]],"cex":[[1]],"adj":[[0.5,0.5,0.5]],"centers":"8","family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":33808},"17":{"id":17,"type":"text","material":{"lit":false,"margin":2,"floating":true,"edge":[1,1,1]},"vertices":"9","colors":"10","texts":[["Alcohol Related Deaths"]],"cex":[[1]],"adj":[[0.5,0.5,0.5]],"centers":"11","family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":33808},"18":{"id":18,"type":"text","material":{"lit":false,"margin":0,"edge":[0,1,1]},"vertices":"12","colors":"13","texts":[["3D Scatter Plot of Death Counts (by gender)"]],"cex":[[1]],"adj":[[0.5,0.5,0.5]],"centers":"14","family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":33808},"20":{"id":20,"type":"quads","material":{"lit":false,"back":"lines","uri":"data:image/png;base64,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"},"vertices":"15","colors":"18","texcoords":"17","centers":"19","normals":"16","ignoreExtent":true,"flags":36870},"11":{"id":11,"type":"light","vertices":[[0,0,1]],"colors":[[1,1,1,1],[1,1,1,1],[1,1,1,1]],"viewpoint":true,"finite":false},"10":{"id":10,"type":"background","material":{},"colors":"20","centers":"21","sphere":false,"fogtype":"none","fogscale":1,"flags":32768},"12":{"id":12,"type":"background","material":{"lit":false,"back":"lines"},"colors":"22","centers":"23","sphere":false,"fogtype":"none","fogscale":1,"flags":32768},"19":{"id":19,"type":"background","material":{"lit":false,"back":"lines","uri":"data:image/png;base64,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"},"colors":"24","ids":[[20]],"types":[["quads"]],"centers":"25","objects":[{"id":{"id":20},"type":{"type":"quads"},"material":{"color":"#FFFFFF","lit":false,"texture":"/private/var/folders/g7/435sqrsx77j2jspfr0ynhpc80000gn/T/RtmpbYg3Nx/file1607c500ae481.png","back":"lines"},"vertices":[[-1,-1,1],[1,-1,1],[1,1,1],[-1,1,1]],"colors":[[1,1,1,1]],"texcoords":[[0,0],[1,0],[1,1],[0,1]],"centers":[[0,0,1]],"normals":[[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1]],"ignoreExtent":true}],"sphere":false,"fogtype":"none","fogscale":1,"flags":32768},"14":{"id":14,"type":"bboxdeco","material":{"front":"lines","back":"lines"},"vertices":"26","colors":"27","axes":{"mode":["pretty","pretty","pretty"],"step":[200,200,1000],"nticks":[5,5,5],"marklen":[15,15,15],"expand":[1.029999971389771,1.029999971389771,1.029999971389771]},"draw_front":true,"flags":32769},"7":{"id":7,"type":"subscene","par3d":{"antialias":4,"FOV":30,"ignoreExtent":false,"listeners":7,"mouseMode":{"none":"none","left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,9749.4111328125],"modelMatrix":[[2.046776533126831,0,0,-1613.88330078125],[0,0.8370875716209412,0.5834062099456787,-2028.554443359375],[0,-2.29987907409668,0.2123425155878067,-9202.3974609375],[0,0,0,1]],"projMatrix":[[3.732050895690918,0,0,0],[0,3.732050895690918,0,0],[0,0,-3.863703727722168,-35145.50390625],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201433256682,0.9396926207859085,0],[0,-0.9396926207859085,0.3420201433256682,0],[0,0,0,1]],"userProjection":[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],"scale":[2.046776533126831,2.447480201721191,0.6208479404449463],"viewport":{"x":0,"y":0,"width":1,"height":1},"zoom":1,"bbox":[226.5713500976562,1350.4287109375,23.57082557678223,963.42919921875,916.4649658203125,4621.53515625],"windowRect":[0,45,256,301],"family":"sans","font":1,"cex":1,"useFreeType":true,"fontname":"/Users/zhang/Library/R/arm64/4.3/library/rgl/fonts/FreeSans.ttf","maxClipPlanes":6,"glVersion":2.1,"activeSubscene":0},"embeddings":{"viewport":"replace","projection":"replace","model":"replace","mouse":"replace"},"objects":[19,14,13,15,16,17,18,11],"subscenes":[],"flags":34067}},"crosstalk":{"key":[],"group":[],"id":[],"options":[]},"width":672,"height":480,"buffer":{"accessors":[{"bufferView":0,"componentType":5123,"count":36,"type":"VEC3"},{"bufferView":1,"componentType":5121,"count":36,"type":"VEC4","normalized":true},{"bufferView":2,"componentType":5123,"count":36,"type":"VEC3"},{"bufferView":3,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":4,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":5,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":6,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":7,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":8,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":9,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":10,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":11,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":12,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":13,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":14,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":15,"componentType":5120,"count":4,"type":"VEC3"},{"bufferView":16,"componentType":5121,"count":4,"type":"VEC3"},{"bufferView":17,"componentType":5121,"count":4,"type":"VEC2","normalized":true},{"bufferView":18,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":19,"componentType":5121,"count":1,"type":"VEC3"},{"bufferView":20,"componentType":5126,"count":1,"type":"VEC4"},{"bufferView":21,"componentType":5121,"count":1,"type":"VEC3"},{"bufferView":22,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":23,"componentType":5121,"count":1,"type":"VEC3"},{"bufferView":24,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":25,"componentType":5121,"count":1,"type":"VEC3"},{"bufferView":26,"componentType":5126,"count":13,"type":"VEC3"},{"bufferView":27,"componentType":5121,"count":1,"type":"VEC4"}],"bufferViews":[{"buffer":0,"byteLength":216,"byteOffset":0},{"buffer":0,"byteLength":144,"byteOffset":216},{"buffer":0,"byteLength":216,"byteOffset":360},{"buffer":0,"byteLength":12,"byteOffset":576},{"buffer":0,"byteLength":4,"byteOffset":588},{"buffer":0,"byteLength":12,"byteOffset":592},{"buffer":0,"byteLength":12,"byteOffset":604},{"buffer":0,"byteLength":4,"byteOffset":616},{"buffer":0,"byteLength":12,"byteOffset":620},{"buffer":0,"byteLength":12,"byteOffset":632},{"buffer":0,"byteLength":4,"byteOffset":644},{"buffer":0,"byteLength":12,"byteOffset":648},{"buffer":0,"byteLength":12,"byteOffset":660},{"buffer":0,"byteLength":4,"byteOffset":672},{"buffer":0,"byteLength":12,"byteOffset":676},{"buffer":0,"byteLength":12,"byteOffset":688},{"buffer":0,"byteLength":12,"byteOffset":700},{"buffer":0,"byteLength":8,"byteOffset":712},{"buffer":0,"byteLength":4,"byteOffset":720},{"buffer":0,"byteLength":3,"byteOffset":724},{"buffer":0,"byteLength":16,"byteOffset":728},{"buffer":0,"byteLength":3,"byteOffset":744},{"buffer":0,"byteLength":4,"byteOffset":747},{"buffer":0,"byteLength":3,"byteOffset":751},{"buffer":0,"byteLength":4,"byteOffset":754},{"buffer":0,"byteLength":3,"byteOffset":758},{"buffer":0,"byteLength":156,"byteOffset":764},{"buffer":0,"byteLength":4,"byteOffset":920}],"buffers":[{"byteLength":924,"bytes":"GgE3ACoEygMJApQKBAEsAC4E5wPlAQIKDgFAAOUDFQQkAh4K+wBYAO8DIwR7A+wJTAFdABEE\nIwR1A/kJQQE6AEkELwQIApYKJgFBABkETgQKAu8KLwE8AD8EuAQ+AuEKUQE8AMEEBQUyAkAL\nhwFHAOQE9QRtA+8LjgFRADUF1wTqAosMtAFNACgF1QQbA80MwwFLADYFwQQLAzgNnQFWAIcF\n5gQlA/ENjgFAAMAF/wSwAlMOfgFYAJwFLgXNAlMOfQFIAMYFGwXHAlsObgFTAAwH6wSvA70R\n/8DL/63Y5v//wMv/rdjm///Ay/+t2Ob//8DL/63Y5v//wMv/rdjm///Ay/+t2Ob//8DL/63Y\n5v//wMv/rdjm///Ay/+t2Ob//8DL/63Y5v//wMv/rdjm///Ay/+t2Ob//8DL/63Y5v//wMv/\nrdjm///Ay/+t2Ob//8DL/63Y5v//wMv/rdjm///Ay/+t2Ob/GgE3ACoEygMJApQKBAEsAC4E\n5wPlAQIKDgFAAOUDFQQkAh4K+wBYAO8DIwR7A+wJTAFdABEEIwR1A/kJQQE6AEkELwQIApYK\nJgFBABkETgQKAu8KLwE8AD8EuAQ+AuEKUQE8AMEEBQUyAkALhwFHAOQE9QRtA+8LjgFRADUF\n1wTqAosMtAFNACgF1QQbA80MwwFLADYFwQQLAzgNnQFWAIcF5gQlA/ENjgFAAMAF/wSwAlMO\nfgFYAJwFLgXNAlMOfQFIAMYFGwXHAlsObgFTAAwH6wSvA70RAADAfwAAgEAAAIA/AAAAAQAA\nwH8AAIBAAACAPwAAwH8AAIBAAACAPwAAAAEAAMB/AACAQAAAgD8AAMB/AACAQAAAgD8AAAAB\nAADAfwAAgEAAAIA/AADAfwAAAEAAAABAAAAAAQAAwH8AAABAAAAAQP//AQH/AQEBAf8BAQAA\nAQAAAQAAAQAAAQAA/wD//wD/AQEBAQAAAQCZmJg+mZiYPpmYmD4AAIA/AAAAAQEBAQAAAAEB\nAQEAAAAAAAAAAMhDAADAfwAAwH8AABZEAADAfwAAwH8AAEhEAADAfwAAwH8AAHpEAADAfwAA\nwH8AAJZEAADAfwAAwH8AAMB/AABIQwAAwH8AAMB/AADIQwAAwH8AAMB/AAAWRAAAwH8AAMB/\nAABIRAAAwH8AAMB/AADAfwAAekQAAMB/AADAfwAA+kQAAMB/AADAfwCAO0UAAMB/AADAfwAA\nekUAAAAB"}]},"context":{"shiny":false,"rmarkdown":null},"vertexShader":"#line 2 1\n// File 1 is the vertex shader\n#ifdef GL_ES\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n#endif\n\nattribute vec3 aPos;\nattribute vec4 aCol;\nuniform mat4 mvMatrix;\nuniform mat4 prMatrix;\nvarying vec4 vCol;\nvarying vec4 vPosition;\n\n#ifdef NEEDS_VNORMAL\nattribute vec3 aNorm;\nuniform mat4 normMatrix;\nvarying vec4 vNormal;\n#endif\n\n#if defined(HAS_TEXTURE) || defined (IS_TEXT)\nattribute vec2 aTexcoord;\nvarying vec2 vTexcoord;\n#endif\n\n#ifdef FIXED_SIZE\nuniform vec3 textScale;\n#endif\n\n#ifdef FIXED_QUADS\nattribute vec3 aOfs;\n#endif\n\n#ifdef IS_TWOSIDED\n#ifdef HAS_NORMALS\nvarying float normz;\nuniform mat4 invPrMatrix;\n#else\nattribute vec3 aPos1;\nattribute vec3 aPos2;\nvarying float normz;\n#endif\n#endif // IS_TWOSIDED\n\n#ifdef FAT_LINES\nattribute vec3 aNext;\nattribute vec2 aPoint;\nvarying vec2 vPoint;\nvarying float vLength;\nuniform float uAspect;\nuniform float uLwd;\n#endif\n\n#ifdef USE_ENVMAP\nvarying vec3 vReflection;\n#endif\n\nvoid main(void) {\n  \n#ifndef IS_BRUSH\n#if defined(NCLIPPLANES) || !defined(FIXED_QUADS) || defined(HAS_FOG) || defined(USE_ENVMAP)\n  vPosition = mvMatrix * vec4(aPos, 1.);\n#endif\n  \n#ifndef FIXED_QUADS\n  gl_Position = prMatrix * vPosition;\n#endif\n#endif // !IS_BRUSH\n  \n#ifdef IS_POINTS\n  gl_PointSize = POINTSIZE;\n#endif\n  \n  vCol = aCol;\n  \n// USE_ENVMAP implies NEEDS_VNORMAL\n\n#ifdef NEEDS_VNORMAL\n  vNormal = normMatrix * vec4(-aNorm, dot(aNorm, aPos));\n#endif\n\n#ifdef USE_ENVMAP\n  vReflection = normalize(reflect(vPosition.xyz/vPosition.w, \n                        normalize(vNormal.xyz/vNormal.w)));\n#endif\n  \n#ifdef IS_TWOSIDED\n#ifdef HAS_NORMALS\n  /* normz should be calculated *after* projection */\n  normz = (invPrMatrix*vNormal).z;\n#else\n  vec4 pos1 = prMatrix*(mvMatrix*vec4(aPos1, 1.));\n  pos1 = pos1/pos1.w - gl_Position/gl_Position.w;\n  vec4 pos2 = prMatrix*(mvMatrix*vec4(aPos2, 1.));\n  pos2 = pos2/pos2.w - gl_Position/gl_Position.w;\n  normz = pos1.x*pos2.y - pos1.y*pos2.x;\n#endif\n#endif // IS_TWOSIDED\n  \n#ifdef NEEDS_VNORMAL\n  vNormal = vec4(normalize(vNormal.xyz/vNormal.w), 1);\n#endif\n  \n#if defined(HAS_TEXTURE) || defined(IS_TEXT)\n  vTexcoord = aTexcoord;\n#endif\n  \n#if defined(FIXED_SIZE) && !defined(ROTATING)\n  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);\n  pos = pos/pos.w;\n  gl_Position = pos + vec4(aOfs*textScale, 0.);\n#endif\n  \n#if defined(IS_SPRITES) && !defined(FIXED_SIZE)\n  vec4 pos = mvMatrix * vec4(aPos, 1.);\n  pos = pos/pos.w + vec4(aOfs,  0.);\n  gl_Position = prMatrix*pos;\n#endif\n  \n#ifdef FAT_LINES\n  /* This code was inspired by Matt Deslauriers' code in \n   https://mattdesl.svbtle.com/drawing-lines-is-hard */\n  vec2 aspectVec = vec2(uAspect, 1.0);\n  mat4 projViewModel = prMatrix * mvMatrix;\n  vec4 currentProjected = projViewModel * vec4(aPos, 1.0);\n  currentProjected = currentProjected/currentProjected.w;\n  vec4 nextProjected = projViewModel * vec4(aNext, 1.0);\n  vec2 currentScreen = currentProjected.xy * aspectVec;\n  vec2 nextScreen = (nextProjected.xy / nextProjected.w) * aspectVec;\n  float len = uLwd;\n  vec2 dir = vec2(1.0, 0.0);\n  vPoint = aPoint;\n  vLength = length(nextScreen - currentScreen)/2.0;\n  vLength = vLength/(vLength + len);\n  if (vLength > 0.0) {\n    dir = normalize(nextScreen - currentScreen);\n  }\n  vec2 normal = vec2(-dir.y, dir.x);\n  dir.x /= uAspect;\n  normal.x /= uAspect;\n  vec4 offset = vec4(len*(normal*aPoint.x*aPoint.y - dir), 0.0, 0.0);\n  gl_Position = currentProjected + offset;\n#endif\n  \n#ifdef IS_BRUSH\n  gl_Position = vec4(aPos, 1.);\n#endif\n}","fragmentShader":"#line 2 2\n// File 2 is the fragment shader\n#ifdef GL_ES\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n#endif\nvarying vec4 vCol; // carries alpha\nvarying vec4 vPosition;\n#if defined(HAS_TEXTURE) || defined (IS_TEXT)\nvarying vec2 vTexcoord;\nuniform sampler2D uSampler;\n#endif\n\n#ifdef HAS_FOG\nuniform int uFogMode;\nuniform vec3 uFogColor;\nuniform vec4 uFogParms;\n#endif\n\n#if defined(IS_LIT) && !defined(FIXED_QUADS)\nvarying vec4 vNormal;\n#endif\n\n#if NCLIPPLANES > 0\nuniform vec4 vClipplane[NCLIPPLANES];\n#endif\n\n#if NLIGHTS > 0\nuniform mat4 mvMatrix;\n#endif\n\n#ifdef IS_LIT\nuniform vec3 emission;\nuniform float shininess;\n#if NLIGHTS > 0\nuniform vec3 ambient[NLIGHTS];\nuniform vec3 specular[NLIGHTS]; // light*material\nuniform vec3 diffuse[NLIGHTS];\nuniform vec3 lightDir[NLIGHTS];\nuniform bool viewpoint[NLIGHTS];\nuniform bool finite[NLIGHTS];\n#endif\n#endif // IS_LIT\n\n#ifdef IS_TWOSIDED\nuniform bool front;\nvarying float normz;\n#endif\n\n#ifdef FAT_LINES\nvarying vec2 vPoint;\nvarying float vLength;\n#endif\n\n#ifdef USE_ENVMAP\nvarying vec3 vReflection;\n#endif\n\nvoid main(void) {\n  vec4 fragColor;\n#ifdef FAT_LINES\n  vec2 point = vPoint;\n  bool neg = point.y < 0.0;\n  point.y = neg ? (point.y + vLength)/(1.0 - vLength) :\n                 -(point.y - vLength)/(1.0 - vLength);\n#if defined(IS_TRANSPARENT) && defined(IS_LINESTRIP)\n  if (neg && length(point) <= 1.0) discard;\n#endif\n  point.y = min(point.y, 0.0);\n  if (length(point) > 1.0) discard;\n#endif // FAT_LINES\n  \n#ifdef ROUND_POINTS\n  vec2 coord = gl_PointCoord - vec2(0.5);\n  if (length(coord) > 0.5) discard;\n#endif\n  \n#if NCLIPPLANES > 0\n  for (int i = 0; i < NCLIPPLANES; i++)\n    if (dot(vPosition, vClipplane[i]) < 0.0) discard;\n#endif\n    \n#ifdef FIXED_QUADS\n    vec3 n = vec3(0., 0., 1.);\n#elif defined(IS_LIT)\n    vec3 n = normalize(vNormal.xyz);\n#endif\n    \n#ifdef IS_TWOSIDED\n    if ((normz <= 0.) != front) discard;\n#endif\n\n#ifdef IS_LIT\n    vec3 eye = normalize(-vPosition.xyz/vPosition.w);\n    vec3 lightdir;\n    vec4 colDiff;\n    vec3 halfVec;\n    vec4 lighteffect = vec4(emission, 0.);\n    vec3 col;\n    float nDotL;\n#ifdef FIXED_QUADS\n    n = -faceforward(n, n, eye);\n#endif\n    \n#if NLIGHTS > 0\n    for (int i=0;i<NLIGHTS;i++) {\n      colDiff = vec4(vCol.rgb * diffuse[i], vCol.a);\n      lightdir = lightDir[i];\n      if (!viewpoint[i])\n        lightdir = (mvMatrix * vec4(lightdir, 1.)).xyz;\n      if (!finite[i]) {\n        halfVec = normalize(lightdir + eye);\n      } else {\n        lightdir = normalize(lightdir - vPosition.xyz/vPosition.w);\n        halfVec = normalize(lightdir + eye);\n      }\n      col = ambient[i];\n      nDotL = dot(n, lightdir);\n      col = col + max(nDotL, 0.) * colDiff.rgb;\n      col = col + pow(max(dot(halfVec, n), 0.), shininess) * specular[i];\n      lighteffect = lighteffect + vec4(col, colDiff.a);\n    }\n#endif\n    \n#else // not IS_LIT\n    vec4 colDiff = vCol;\n    vec4 lighteffect = colDiff;\n#endif\n    \n#ifdef IS_TEXT\n    vec4 textureColor = lighteffect*texture2D(uSampler, vTexcoord);\n#endif\n    \n#ifdef HAS_TEXTURE\n\n// These calculations use the definitions from \n// https://docs.gl/gl3/glTexEnv\n\n#ifdef USE_ENVMAP\n    float m = 2.0 * sqrt(dot(vReflection, vReflection) + 2.0*vReflection.z + 1.0);\n    vec4 textureColor = texture2D(uSampler, vReflection.xy / m + vec2(0.5, 0.5));\n#else\n    vec4 textureColor = texture2D(uSampler, vTexcoord);\n#endif\n\n#ifdef TEXTURE_rgb\n\n#if defined(TEXMODE_replace) || defined(TEXMODE_decal)\n    textureColor = vec4(textureColor.rgb, lighteffect.a);\n#endif \n\n#ifdef TEXMODE_modulate\n    textureColor = lighteffect*vec4(textureColor.rgb, 1.);\n#endif\n\n#ifdef TEXMODE_blend\n    textureColor = vec4((1. - textureColor.rgb) * lighteffect.rgb, lighteffect.a);\n#endif\n\n#ifdef TEXMODE_add\n    textureColor = vec4(lighteffect.rgb + textureColor.rgb, lighteffect.a);\n#endif\n\n#endif //TEXTURE_rgb\n        \n#ifdef TEXTURE_rgba\n\n#ifdef TEXMODE_replace\n// already done\n#endif \n\n#ifdef TEXMODE_modulate\n    textureColor = lighteffect*textureColor;\n#endif\n\n#ifdef TEXMODE_decal\n    textureColor = vec4((1. - textureColor.a)*lighteffect.rgb) +\n                     textureColor.a*textureColor.rgb, \n                     lighteffect.a);\n#endif\n\n#ifdef TEXMODE_blend\n    textureColor = vec4((1. - textureColor.rgb) * lighteffect.rgb,\n                    lighteffect.a*textureColor.a);\n#endif\n\n#ifdef TEXMODE_add\n    textureColor = vec4(lighteffect.rgb + textureColor.rgb,\n                    lighteffect.a*textureColor.a);\n#endif\n    \n#endif //TEXTURE_rgba\n    \n#ifdef TEXTURE_alpha\n#if defined(TEXMODE_replace) || defined(TEXMODE_decal)\n    textureColor = vec4(lighteffect.rgb, textureColor.a);\n#endif \n\n#if defined(TEXMODE_modulate) || defined(TEXMODE_blend) || defined(TEXMODE_add)\n    textureColor = vec4(lighteffect.rgb, lighteffect.a*textureColor.a);\n#endif\n \n#endif\n    \n// The TEXTURE_luminance values are not from that reference    \n#ifdef TEXTURE_luminance\n    float luminance = dot(vec3(1.,1.,1.),textureColor.rgb)/3.;\n\n#if defined(TEXMODE_replace) || defined(TEXMODE_decal)\n    textureColor = vec4(luminance, luminance, luminance, lighteffect.a);\n#endif \n\n#ifdef TEXMODE_modulate\n    textureColor = vec4(luminance*lighteffect.rgb, lighteffect.a);\n#endif\n\n#ifdef TEXMODE_blend\n    textureColor = vec4((1. - luminance)*lighteffect.rgb,\n                        lighteffect.a);\n#endif\n\n#ifdef TEXMODE_add\n    textureColor = vec4(luminance + lighteffect.rgb, lighteffect.a);\n#endif\n\n#endif // TEXTURE_luminance\n \n    \n#ifdef TEXTURE_luminance_alpha\n    float luminance = dot(vec3(1.,1.,1.),textureColor.rgb)/3.;\n\n#if defined(TEXMODE_replace) || defined(TEXMODE_decal)\n    textureColor = vec4(luminance, luminance, luminance, textureColor.a);\n#endif \n\n#ifdef TEXMODE_modulate\n    textureColor = vec4(luminance*lighteffect.rgb, \n                        textureColor.a*lighteffect.a);\n#endif\n\n#ifdef TEXMODE_blend\n    textureColor = vec4((1. - luminance)*lighteffect.rgb,\n                        textureColor.a*lighteffect.a);\n#endif\n\n#ifdef TEXMODE_add\n    textureColor = vec4(luminance + lighteffect.rgb, \n                        textureColor.a*lighteffect.a);\n\n#endif\n\n#endif // TEXTURE_luminance_alpha\n    \n    fragColor = textureColor;\n\n#elif defined(IS_TEXT)\n    if (textureColor.a < 0.1)\n      discard;\n    else\n      fragColor = textureColor;\n#else\n    fragColor = lighteffect;\n#endif // HAS_TEXTURE\n    \n#ifdef HAS_FOG\n    // uFogParms elements: x = near, y = far, z = fogscale, w = (1-sin(FOV/2))/(1+sin(FOV/2))\n    // In Exp and Exp2: use density = density/far\n    // fogF will be the proportion of fog\n    // Initialize it to the linear value\n    float fogF;\n    if (uFogMode > 0) {\n      fogF = (uFogParms.y - vPosition.z/vPosition.w)/(uFogParms.y - uFogParms.x);\n      if (uFogMode > 1)\n        fogF = mix(uFogParms.w, 1.0, fogF);\n      fogF = fogF*uFogParms.z;\n      if (uFogMode == 2)\n        fogF = 1.0 - exp(-fogF);\n      // Docs are wrong: use (density*c)^2, not density*c^2\n      // https://gitlab.freedesktop.org/mesa/mesa/-/blob/master/src/mesa/swrast/s_fog.c#L58\n      else if (uFogMode == 3)\n        fogF = 1.0 - exp(-fogF*fogF);\n      fogF = clamp(fogF, 0.0, 1.0);\n      gl_FragColor = vec4(mix(fragColor.rgb, uFogColor, fogF), fragColor.a);\n    } else gl_FragColor = fragColor;\n#else\n    gl_FragColor = fragColor;\n#endif // HAS_FOG\n    \n}","players":[],"webGLoptions":{"preserveDrawingBuffer":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Comment:</strong> The 3D scatter plot provides a comparative look at the occurrence of suicide, firearm, and alcohol-related deaths, separated by gender. The data points for males show a pronounced spread in the suicide and firearm death categories, highlighting a higher frequency and possible interrelation between these types of deaths. In contrast, female data points are more concentrated and lower in number, suggesting a lower incidence of these deaths among females. The distribution of alcohol-related deaths appears relatively similar for both genders, without a clear connection to the other types of deaths. Overall, the plot underscores a significant gender difference in patterns of death by these causes, with males showing a higher vulnerability to suicide and firearm fatalities.</p>
</section>
<section id="has-there-been-a-significant-change-in-the-number-of-suicide-firearm-or-alcohol-related-deaths-in-new-york-state-over-the-years" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="has-there-been-a-significant-change-in-the-number-of-suicide-firearm-or-alcohol-related-deaths-in-new-york-state-over-the-years"><span class="header-section-number">3.2</span> Has there been a significant change in the number of suicide, firearm or alcohol-related deaths in New York State over the years?</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Group data by year and summarize</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>annual_summary <span class="ot">&lt;-</span> death_data <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Age.Group <span class="sc">!=</span> <span class="st">'Total'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Suicide_Total =</span> <span class="fu">sum</span>(Suicide.Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">Alcohol_Related_Total =</span> <span class="fu">sum</span>(Alcohol.Related.Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">Firearm_Total =</span> <span class="fu">sum</span>(Firearm.Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting Suicide, Alcohol-Related, and Firearm Deaths Over Years</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> annual_summary, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Suicide_Total, <span class="at">color =</span> <span class="st">"Suicide Deaths"</span>)) <span class="sc">+</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> annual_summary, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Alcohol_Related_Total, <span class="at">color =</span> <span class="st">"Alcohol-Related Deaths"</span>)) <span class="sc">+</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> annual_summary, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Firearm_Total, <span class="at">color =</span> <span class="st">"Firearm Deaths"</span>)) <span class="sc">+</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trends in Alcohol-Related, Firearm, and Suicide Deaths </span><span class="sc">\n</span><span class="st">in New York State over the years"</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Deaths"</span>) <span class="sc">+</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Suicide Deaths"</span> <span class="ot">=</span> <span class="st">"blue"</span>, <span class="st">"Alcohol-Related Deaths"</span> <span class="ot">=</span> <span class="st">"red"</span>, <span class="st">"Firearm Deaths"</span> <span class="ot">=</span> <span class="st">"green"</span>)) <span class="sc">+</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Comment:</strong> The line graph illustrates the trends in alcohol-related, firearm, and suicide deaths in New York State from 2003 to 2020. Alcohol-related deaths have seen a dramatic increase over the years, with a particularly sharp rise towards the end of the period. In comparison, firearm deaths have shown some variability but have remained relatively flat overall. Suicide deaths, while also exhibiting some fluctuation, have not changed as dramatically as alcohol-related deaths.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reshape the data to long format</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>long_data <span class="ot">&lt;-</span> death_data <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Age.Group <span class="sc">!=</span> <span class="st">'Total'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"Suicide.Deaths"</span>, <span class="st">"Firearm.Deaths"</span>, <span class="st">"Alcohol.Related.Deaths"</span>),</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"Category"</span>, <span class="at">values_to =</span> <span class="st">"Deaths"</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a stacked bar chart</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(long_data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(Year), <span class="at">y =</span> Deaths, <span class="at">fill =</span> Category)) <span class="sc">+</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Stacked Histogram of Deaths by Category Over the Years"</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of Deaths"</span>,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Category"</span>) <span class="sc">+</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="co"># Rotate x-axis labels</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Comment:</strong> The stacked histogram chart highlights the trends in deaths by category from 2003 to 2020. Alcohol-related deaths have shown a significant upward trend, particularly with a sharp rise in the year 2020. In contrast, deaths by firearms display some fluctuations but largely remain stable across the years. Suicide deaths are the least numerous and show the least variation over time. Overall, the trend indicates a worrying increase in the total number of deaths, driven mainly by alcohol-related incidents.</p>
</section>
<section id="which-regions-in-new-york-state-have-the-highest-counts-of-suicide-alcohol-related-and-firearm-deaths" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="which-regions-in-new-york-state-have-the-highest-counts-of-suicide-alcohol-related-and-firearm-deaths"><span class="header-section-number">3.3</span> Which regions in New York State have the highest counts of suicide, alcohol-related, and firearm deaths?</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>aggregated_data_4 <span class="ot">&lt;-</span> death_data <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Age.Group <span class="sc">!=</span> <span class="st">'Total'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region, Sex) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Suicide.Deaths =</span> <span class="fu">sum</span>(Suicide.Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Firearm.Deaths =</span> <span class="fu">sum</span>(Firearm.Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Alcohol.Related.Deaths =</span> <span class="fu">sum</span>(Alcohol.Related.Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">ungroup</span>() <span class="co"># Remove the grouping</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>data_long <span class="ot">&lt;-</span> aggregated_data_4  <span class="sc">%&gt;%</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"Suicide.Deaths"</span>, <span class="st">"Firearm.Deaths"</span>, <span class="st">"Alcohol.Related.Deaths"</span>),</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"DeathType"</span>,</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"Count"</span>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>data_long<span class="sc">$</span>Count <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data_long<span class="sc">$</span>Count)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the mosaic plot using the long format data</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_long) <span class="sc">+</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_mosaic</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">product</span>(Sex, Region), <span class="at">fill =</span> DeathType, <span class="at">weight =</span> Count)) <span class="sc">+</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mosaic Plot of Death Counts by Gender and Region (18 years)"</span>,</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Region"</span>,</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Gender"</span>,</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Type of Death"</span>) <span class="sc">+</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="co"># Rotate x labels for clarity</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Comment:</strong> The mosaic plot shows the distribution of different types of death counts by gender and region. For both males (M) and females (F), alcohol-related deaths are the most prevalent in both New York City (NYC) and the rest of the state (ROS). However, males have a much higher incidence of firearm deaths compared to females in both regions. This visualization highlights the gender disparity in death counts, particularly in firearm deaths, and also shows that alcohol-related deaths are a significant concern for both genders across different regions.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding population data for NYC and ROS</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>nyc_population <span class="ot">&lt;-</span> <span class="dv">8770000</span> <span class="co"># replace with the actual population of New York City</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>ros_population <span class="ot">&lt;-</span> <span class="dv">19340000</span> <span class="sc">-</span> <span class="dv">8770000</span> <span class="co"># replace with the actual population of the Rest of State</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>df_2020 <span class="ot">&lt;-</span> death_data <span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2020</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the population data to the dataframe</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>df_2020<span class="sc">$</span>Population <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(df_2020<span class="sc">$</span>Region <span class="sc">==</span> <span class="st">"NYC"</span>, nyc_population, ros_population)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate death rates per 100,000 population</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>df_rates_2020 <span class="ot">&lt;-</span> df_2020 <span class="sc">%&gt;%</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"Suicide.Deaths"</span>, <span class="st">"Firearm.Deaths"</span>, <span class="st">"Alcohol.Related.Deaths"</span>), </span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"DeathType"</span>, </span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"Count"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Rate =</span> (Count <span class="sc">/</span> Population) <span class="sc">*</span> <span class="dv">100000</span>)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_rates_2020, <span class="fu">aes</span>(<span class="at">x =</span> Region, <span class="at">y =</span> Rate, <span class="at">fill =</span> DeathType)) <span class="sc">+</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>()) <span class="sc">+</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Death Rates by Type and Region in New York State (2020)"</span>,</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Region"</span>,</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Death Rate (per 100,000 Population)"</span>,</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Type of Death"</span>) <span class="sc">+</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Paired"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Comments:</strong> The bar chart compares death rates by type and region in New York State for the year 2020 (8770000 population for nyc, and 10570000 population for ros). It shows that NYC has lower death rates for all three categories compared to ROS, with the least disparity seen in firearm death rates. Suicide death rate is significantly higher in ROS compared to NYC. The chart suggests that the type of death most common in each region is alchohol-related deaths, with NYC showing a much lower rate of alchohol-related and suicide deaths than ROS. The data indicates that living outside of the city correlates with a higher likelihood of death from these causes. This suggests that there may be environmental, social, or access-related factors contributing to these regional differences in death rates</p>
</section>
<section id="how-have-mortality-patterns-by-age-and-race-specifically-related-to-suicide-firearm-and-alcohol-related-deaths-changed-in-new-york-state-over-the-years" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="how-have-mortality-patterns-by-age-and-race-specifically-related-to-suicide-firearm-and-alcohol-related-deaths-changed-in-new-york-state-over-the-years"><span class="header-section-number">3.4</span> How have mortality patterns by age and race, specifically related to suicide, firearm, and alcohol-related deaths, changed in New York State over the years?</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the total death count</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>death_data<span class="sc">$</span>Total_Deaths <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(death_data[, <span class="fu">c</span>(<span class="st">"Suicide.Deaths"</span>, <span class="st">"Alcohol.Related.Deaths"</span>, <span class="st">"Firearm.Deaths"</span>)], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>long_data <span class="ot">&lt;-</span> death_data <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Age.Group <span class="sc">!=</span> <span class="st">'Total'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Year, Age.Group, Total_Deaths) <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year, Age.Group) <span class="sc">%&gt;%</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Total_Deaths =</span> <span class="fu">sum</span>(Total_Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co"># ridgeline plot</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(long_data, <span class="fu">aes</span>(<span class="at">x =</span> Total_Deaths, <span class="at">y =</span> Age.Group, <span class="at">fill =</span> Age.Group)) <span class="sc">+</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>() <span class="sc">+</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Ridgeline Plot of Total Death Counts Across Age Groups"</span>,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Total Death Counts"</span>,</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Age Group"</span>) <span class="sc">+</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set3"</span>) <span class="sc">+</span> <span class="co"># Use a discrete color scale</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ridges</span>(<span class="at">grid =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Comment:</strong> The ridgeline plot visualizes the distribution of annually death counts across age groups over the years 2003 to 2020. From the plot, we observe that the age groups ‘45-54’ and ‘55-64’ have the most substantial death counts, suggesting a higher unnatural death rate in these middle-aged brackets. The distributions are broader for these age groups, indicating a more significant variance in the number of deaths year over year. In contrast, the younger and older age groups exhibit fewer deaths, with narrower distributions, which points to less variability and lower overall death counts.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>aggregated_data_3 <span class="ot">&lt;-</span> death_data <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Age.Group <span class="sc">!=</span> <span class="st">'Total'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Race.or.Ethnicity) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Suicide.Deaths =</span> <span class="fu">sum</span>(Suicide.Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Firearm.Deaths =</span> <span class="fu">sum</span>(Firearm.Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Alcohol.Related.Deaths =</span> <span class="fu">sum</span>(Alcohol.Related.Deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>normalized_data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">scale</span>(aggregated_data_3[,<span class="sc">-</span><span class="dv">1</span>]))</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(normalized_data) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(aggregated_data_3)[<span class="dv">2</span><span class="sc">:</span><span class="fu">ncol</span>(aggregated_data_3)]</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>normalized_data<span class="sc">$</span>Race.or.Ethnicity <span class="ot">&lt;-</span> aggregated_data_3<span class="sc">$</span>Race.or.Ethnicity</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggparcoord</span>(normalized_data,</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>           <span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, </span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>           <span class="at">groupColumn =</span> <span class="st">'Race.or.Ethnicity'</span>, <span class="co"># Grouping by race or ethnicity</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>           <span class="at">scale =</span> <span class="st">"globalminmax"</span>, <span class="co"># Normalize the variables globally</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>           <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">color =</span> Race.or.Ethnicity)) <span class="sc">+</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Parallel Coordinate Plot of Death Counts by Race (18 Years)"</span>,</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Type of Death"</span>,</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Normalized Death Counts"</span>) <span class="sc">+</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="results_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Comment:</strong> The parallel coordinate plot compares normalized death counts across different types of deaths — suicide, firearm, and alcohol-related — among various racial and ethnic groups. The White Non Hispanic group has the highest normalized counts for all three types of death. Black Non Hispanic individuals show a peak in firearm deaths compared to other causes of death. Hispanic and Other Non Hispanic groups appear to have lower or more evenly distributed death counts across all three categories. The ‘Not Stated’ category has the lowest values, which could reflect underreporting or data collection issues within these populations.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./data.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./d3graph.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Interactive graph</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This book was built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>